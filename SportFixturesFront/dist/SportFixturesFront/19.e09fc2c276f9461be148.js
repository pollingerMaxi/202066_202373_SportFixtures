(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{lvaY:function(n,l,e){"use strict";e.r(l);var o=e("CcnG"),t=(e("iUxH"),e("TwVa")),u=(e("qS97"),e("o0su"),function(n,l,e,o){return new(e||(e=Promise))(function(t,u){function r(n){try{a(o.next(n))}catch(n){u(n)}}function i(n){try{a(o.throw(n))}catch(n){u(n)}}function a(n){n.done?t(n.value):new e(function(l){l(n.value)}).then(r,i)}a((o=o.apply(n,l||[])).next())})}),r=function(){function n(n,l){this.toasterService=n,this.encounterService=l,this.positions=[],this.multiPos=[],this.selectedEncounter=new t.b,this.positionInEncounter=new t.g}return n.prototype.ngOnInit=function(){this.getEncounters()},n.prototype.getEncounters=function(){return u(this,void 0,void 0,function(){var n;return function(n,l){var e,o,t,u,r={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return u={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function i(u){return function(i){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,o&&(t=2&u[0]?o.return:u[0]?o.throw||((t=o.return)&&t.call(o),0):o.next)&&!(t=t.call(o,u[1])).done)return t;switch(o=0,t&&(u=[2&u[0],t.value]),u[0]){case 0:case 1:t=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(!(t=(t=r.trys).length>0&&t[t.length-1])&&(6===u[0]||2===u[0])){r=0;continue}if(3===u[0]&&(!t||u[1]>t[0]&&u[1]<t[3])){r.label=u[1];break}if(6===u[0]&&r.label<t[1]){r.label=t[1],t=u;break}if(t&&r.label<t[2]){r.label=t[2],r.ops.push(u);break}t[2]&&r.ops.pop(),r.trys.pop();continue}u=l.call(n,r)}catch(n){u=[6,n],o=0}finally{e=t=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}}(this,function(l){switch(l.label){case 0:return n=this,[4,this.encounterService.getEncounters()];case 1:return n.encounters=l.sent(),[2]}})})},n.prototype.addResults=function(){var n=this,l=new t.h;l.encounterId=parseInt(this.selectedEncounter.id),l.positions=this.multiPos,this.encounterService.addResults(l).then(function(l){n.toasterService.pop("success","Success!","Results successfully added!")}).catch(function(l){n.toasterService.pop("error","Error!",l._body)})},n.prototype.onChange=function(n){var l=this;this.positions=[];var e=1;this.selectedEncounter.teams.forEach(function(n){l.positions.push({position:e}),e++})},n.prototype.onPositionChange=function(n,l){try{var e=this.multiPos.find(function(n){return n.teamId==l});if(e)e.position=n.value;else{var o=new t.g;o.teamId=l,o.position=n.value.position,this.multiPos.push(o)}}catch(n){console.log(n)}},n}(),i=function(){},a=e("pMnS"),s=e("9uU2"),c=e("gIcY"),d=e("nciF"),p=e("sdDj"),f=e("P3jN"),h=e("Ip0R"),g=e("e9P1"),m=e("WRHN"),v=o["\u0275crt"]({encapsulation:0,styles:[[""]],data:{}});function b(n){return o["\u0275vid"](0,[(n()(),o["\u0275eld"](0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),o["\u0275eld"](1,0,null,null,1,"label",[["for","team"]],null,null,null,null,null)),(n()(),o["\u0275ted"](2,null,["",""])),(n()(),o["\u0275eld"](3,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["\u0275eld"](4,0,null,null,6,"p-dropdown",[["autoWidth","false"],["optionLabel","position"],["placeholder","Select position"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null]],[[null,"onChange"]],function(n,l,e){var o=!0;return"onChange"===l&&(o=!1!==n.component.onPositionChange(e,n.context.$implicit.teamId)&&o),o},s.b,s.a)),o["\u0275prd"](5120,null,c.NG_VALUE_ACCESSOR,function(n){return[n]},[d.Dropdown]),o["\u0275prd"](512,null,p.DomHandler,p.DomHandler,[]),o["\u0275prd"](512,null,f.ObjectUtils,f.ObjectUtils,[]),o["\u0275did"](8,13877248,null,1,d.Dropdown,[o.ElementRef,p.DomHandler,o.Renderer2,o.ChangeDetectorRef,f.ObjectUtils,o.NgZone],{style:[0,"style"],autoWidth:[1,"autoWidth"],placeholder:[2,"placeholder"],optionLabel:[3,"optionLabel"],options:[4,"options"]},{onChange:"onChange"}),o["\u0275qud"](603979776,2,{templates:1}),o["\u0275pod"](10,{width:0})],function(n,l){var e=l.component;n(l,8,0,n(l,10,0,"200px"),"false","Select position","position",e.positions)},function(n,l){n(l,2,0,l.context.$implicit.team.name),n(l,4,0,o["\u0275nov"](l,8).filled,o["\u0275nov"](l,8).focused)})}function C(n){return o["\u0275vid"](0,[(n()(),o["\u0275eld"](0,0,null,null,22,"div",[["class","container"]],null,null,null,null,null)),(n()(),o["\u0275eld"](1,0,null,null,21,"div",[["class","center"]],null,null,null,null,null)),(n()(),o["\u0275eld"](2,0,null,null,20,"div",[["class","white-box"]],null,null,null,null,null)),(n()(),o["\u0275eld"](3,0,null,null,17,"div",[["class","panel-body"]],null,null,null,null,null)),(n()(),o["\u0275eld"](4,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),o["\u0275eld"](5,0,null,null,1,"label",[["for","encountersList"]],null,null,null,null,null)),(n()(),o["\u0275ted"](-1,null,["Registered encounters"])),(n()(),o["\u0275eld"](7,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),o["\u0275eld"](8,0,null,null,9,"p-dropdown",[["autoWidth","false"],["optionLabel","date"],["placeholder","Select an Encounter to add results"]],[[2,"ui-inputwrapper-filled",null],[2,"ui-inputwrapper-focus",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"onChange"]],function(n,l,e){var o=!0,t=n.component;return"ngModelChange"===l&&(o=!1!==(t.selectedEncounter=e)&&o),"onChange"===l&&(o=!1!==t.onChange(e)&&o),o},s.b,s.a)),o["\u0275prd"](512,null,p.DomHandler,p.DomHandler,[]),o["\u0275prd"](512,null,f.ObjectUtils,f.ObjectUtils,[]),o["\u0275did"](11,13877248,null,1,d.Dropdown,[o.ElementRef,p.DomHandler,o.Renderer2,o.ChangeDetectorRef,f.ObjectUtils,o.NgZone],{style:[0,"style"],autoWidth:[1,"autoWidth"],placeholder:[2,"placeholder"],optionLabel:[3,"optionLabel"],options:[4,"options"]},{onChange:"onChange"}),o["\u0275qud"](603979776,1,{templates:1}),o["\u0275pod"](13,{width:0}),o["\u0275prd"](1024,null,c.NG_VALUE_ACCESSOR,function(n){return[n]},[d.Dropdown]),o["\u0275did"](15,671744,null,0,c.NgModel,[[8,null],[8,null],[8,null],[6,c.NG_VALUE_ACCESSOR]],{model:[0,"model"]},{update:"ngModelChange"}),o["\u0275prd"](2048,null,c.NgControl,null,[c.NgModel]),o["\u0275did"](17,16384,null,0,c.NgControlStatus,[[4,c.NgControl]],null,null),(n()(),o["\u0275eld"](18,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o["\u0275and"](16777216,null,null,1,null,b)),o["\u0275did"](20,278528,null,0,h.NgForOf,[o.ViewContainerRef,o.TemplateRef,o.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(n()(),o["\u0275eld"](21,0,null,null,1,"a",[["class","btn btn-success btn-lg btn-block waves-effect waves-light"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.addResults()&&o),o},null,null)),(n()(),o["\u0275ted"](-1,null,["Add results to encounter"]))],function(n,l){var e=l.component;n(l,11,0,n(l,13,0,"100%"),"false","Select an Encounter to add results","date",e.encounters),n(l,15,0,e.selectedEncounter),n(l,20,0,e.selectedEncounter.teams)},function(n,l){n(l,8,0,o["\u0275nov"](l,11).filled,o["\u0275nov"](l,11).focused,o["\u0275nov"](l,17).ngClassUntouched,o["\u0275nov"](l,17).ngClassTouched,o["\u0275nov"](l,17).ngClassPristine,o["\u0275nov"](l,17).ngClassDirty,o["\u0275nov"](l,17).ngClassValid,o["\u0275nov"](l,17).ngClassInvalid,o["\u0275nov"](l,17).ngClassPending)})}var w=o["\u0275ccf"]("app-positions-create",r,function(n){return o["\u0275vid"](0,[(n()(),o["\u0275eld"](0,0,null,null,1,"app-positions-create",[],null,null,null,C,v)),o["\u0275did"](1,114688,null,0,r,[g.a,m.a],null,null)],function(n,l){n(l,1,0)},null)},{},{},[]),y=e("ZYCi"),_=e("7LN8"),S=e("bjBz");e.d(l,"PositionsCreateModuleNgFactory",function(){return R});var R=o["\u0275cmf"](i,[],function(n){return o["\u0275mod"]([o["\u0275mpd"](512,o.ComponentFactoryResolver,o["\u0275CodegenComponentFactoryResolver"],[[8,[a.a,w]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["\u0275mpd"](4608,h.NgLocalization,h.NgLocaleLocalization,[o.LOCALE_ID,[2,h["\u0275angular_packages_common_common_a"]]]),o["\u0275mpd"](4608,c["\u0275angular_packages_forms_forms_i"],c["\u0275angular_packages_forms_forms_i"],[]),o["\u0275mpd"](1073742336,h.CommonModule,h.CommonModule,[]),o["\u0275mpd"](1073742336,y.RouterModule,y.RouterModule,[[2,y["\u0275angular_packages_router_router_a"]],[2,y.Router]]),o["\u0275mpd"](1073742336,c["\u0275angular_packages_forms_forms_bb"],c["\u0275angular_packages_forms_forms_bb"],[]),o["\u0275mpd"](1073742336,c.FormsModule,c.FormsModule,[]),o["\u0275mpd"](1073742336,_.SharedModule,_.SharedModule,[]),o["\u0275mpd"](1073742336,d.DropdownModule,d.DropdownModule,[]),o["\u0275mpd"](1073742336,S.InputSwitchModule,S.InputSwitchModule,[]),o["\u0275mpd"](1073742336,i,i,[]),o["\u0275mpd"](1024,y.ROUTES,function(){return[[{path:"",component:r},{path:"resultsManagement",component:r}]]},[])])})}}]);